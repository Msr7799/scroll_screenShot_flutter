# أداة السكرين شوت المتقدمة - دليل الإعداد والاستخدام

## 🚀 الإعداد السريع

### 1. تثبيت المتطلبات
```bash
# تحديث النظام
sudo apt update

# تثبيت المتطلبات الأساسية
sudo apt install imagemagick xdotool

# التحقق من التثبيت
which import
which xdotool
echo $DISPLAY
```

### 2. إعداد Flutter
```bash
# الانتقال لمجلد المشروع
cd scroll_screenshot_app

# تنظيف وتحديث التبعيات
flutter clean
flutter pub get

# تشغيل التطبيق
flutter run -d linux
```

## 🛠️ حل المشاكل الشائعة

### مشكلة overflow في الواجهة
**تم حلها في النسخة الجديدة:**
- تم تقليل حجم النافذة الافتراضي
- استخدام SingleChildScrollView في الواجهة
- تحسين تخطيط العناصر لمنع تجاوز الحدود

### مشكلة تحديد المنطقة لا يعمل
**الحلول المطبقة:**

1. **طريقة مبسطة:** استخدام `import` مع الخيار التفاعلي
2. **إخفاء النافذة:** يتم إخفاء النافذة تماماً أثناء التحديد
3. **رسائل واضحة:** تعليمات واضحة للمستخدم

### مشكلة عدم وجود الأدوات المطلوبة
```bash
# إذا كان imagemagick غير مثبت
sudo apt install imagemagick

# إذا كان xdotool غير مثبت  
sudo apt install xdotool

# التحقق من بيئة X11
echo $DISPLAY
# يجب أن تظهر شيء مثل ":0" أو ":1"
```

## 📋 كيفية الاستخدام

### الطريقة السهلة (موصى بها)
1. اضغط على "تحديد المنطقة من الشاشة"
2. ستختفي النافذة مؤقتاً
3. ستظهر أداة تحديد المنطقة
4. اسحب لتحديد المنطقة المطلوبة
5. ستعود النافذة مع الإعدادات المحدثة

### الطريقة اليدوية
1. أدخل الإحداثيات والأبعاد يدوياً
2. اضبط إعدادات السكرول حسب الحاجة
3. اختر مسار الحفظ المناسب

### بدء الالتقاط
1. تأكد من صحة جميع الإعدادات
2. اضغط "بدء الالتقاط"
3. راقب التقدم في شريط الحالة
4. يمكن إيقاف/استئناف العملية في أي وقت

## 🎛️ شرح الإعدادات

### إعدادات المنطقة
- **الموضع X/Y:** نقطة البداية للالتقاط
- **العرض/الارتفاع:** أبعاد المنطقة بالبكسل
- **الحد الأدنى:** 100×100 بكسل
- **الحد الأقصى:** 3840×2160 بكسل

### إعدادات السكرول
- **تفعيل السكرول:** للصفحات الطويلة
- **تأخير السكرول:** الوقت بين كل التقاط (100-2000 مللي ثانية)
- **اكتشاف النهاية:** توقف تلقائي عند انتهاء المحتوى

### إعدادات الحفظ
- **PNG:** جودة عالية، حجم أكبر
- **JPG:** حجم أصغر، ضغط بسيط
- **BMP:** غير مضغوط، أكبر حجم

## 🔧 نصائح للحصول على أفضل النتائج

### لالتقاط الصفحات الطويلة
1. استخدم تأخير سكرول 800-1200 مللي ثانية
2. فعّل "اكتشاف النهاية التلقائي"
3. تأكد من استقرار الإنترنت قبل البدء

### لالتقاط سريع
1. قلل تأخير السكرول إلى 300-500 مللي ثانية
2. استخدم مساحة أصغر للمنطقة
3. استخدم تنسيق JPG لتوفير المساحة

### لجودة عالية
1. استخدم تنسيق PNG
2. زد تأخير السكرول للحصول على استقرار أفضل
3. تأكد من وضوح العرض قبل البدء

## 🐛 تشخيص المشاكل

### إذا لم يعمل التطبيق
```bash
# فحص المتطلبات
which import
which xdotool
echo $DISPLAY

# فحص الصلاحيات
ls -la /tmp
mkdir -p ~/Pictures/Screenshots
```

### إذا كان السكرول لا يعمل
```bash
# اختبار xdotool
xdotool mousemove 100 100
xdotool click 4

# التحقق من نوع النافذة
xdotool getactivewindow getwindowname
```

### إذا كان الحفظ لا يعمل
```bash
# التحقق من المجلد
ls -la ~/Pictures
mkdir -p ~/Pictures/Screenshots
chmod 755 ~/Pictures/Screenshots
```

## 📞 الدعم والمساعدة

### رسائل الخطأ الشائعة
- **"imagemagick غير مثبت":** `sudo apt install imagemagick`
- **"xdotool غير مثبت":** `sudo apt install xdotool`  
- **"بيئة X11 غير متوفرة":** تأكد من تشغيل واجهة رسومية
- **"فشل في التقاط الصورة":** تحقق من صحة الإحداثيات

### تحسين الأداء
- أغلق التطبيقات غير الضرورية أثناء الالتقاط
- استخدم SSD لتحسين سرعة الحفظ
- تأكد من توفر ذاكرة كافية (2GB+ مُوصى بها)

## 🔄 التحديثات المستقبلية
- تحسين خوارزمية اكتشاف النهاية
- إضافة تحديد المنطقة بالنقر
- دعم تنسيقات إضافية
- واجهة مستخدم محسنة

---
*آخر تحديث: ديسمبر 2024*